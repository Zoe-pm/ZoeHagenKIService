services:
  - type: web
    name: zoes-ki-service
    env: static
    buildCommand: npm install && npm run build
    staticPublishPath: ./dist/public
    headers:
      - path: /*
        name: Content-Security-Policy
        value: default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net https://replit.com https://c.daily.co https://assets.calendly.com https://calendly.com; connect-src 'self' https://zoebahati.app.n8n.cloud wss://zoebahati.app.n8n.cloud https://api.vapi.ai wss://api.vapi.ai https://api.daily.co wss://*.daily.co https://fonts.googleapis.com https://fonts.gstatic.com https://fonts.cdnfonts.com https://api.calendly.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://fonts.cdnfonts.com https://assets.calendly.com; font-src 'self' https://fonts.gstatic.com https://fonts.cdnfonts.com data:; img-src 'self' data: https: blob:; frame-src 'self' https://calendly.com https://assets.calendly.com; media-src 'self' blob: data:; worker-src 'self' blob:;
      - path: /*
        name: X-Frame-Options
        value: SAMEORIGIN
      - path: /*
        name: X-Content-Type-Options
        value: nosniff
